@using System.Data;

@{
    ViewBag.Title = "Creación de Objetivos";
    ViewBag.Description = "Crear Objetivos a un Evaluado";
    Layout = "";

}
<div class="row">
    <div class="col-xs-12 col-md-12">
        <div class="widget">
            <div class="widget-header bordered-bottom bordered-yellow">
                <span class="widget-caption">Creación de Objetivos:</span>
                <span class="widget-caption"> &nbsp;[&nbsp;</span>
                <span class="widget-caption">@ViewBag.IdEvaluado</span>
                <span class="widget-caption"> &nbsp;]</span>
                <span class="widget-caption"> &nbsp;/</span>
                <span class="widget-caption"> &nbsp;[</span>
                <span class="widget-caption" id="dgNomEvaluado"> &nbsp;@ViewBag.NomEvaluado</span>
                <span class="widget-caption"> &nbsp;]</span>

                <input hidden id="numIdEvaluado" value="@ViewBag.IdEvaluado">

                <input hidden id="numIdEvaluador" value="@ViewBag.IdEvaluador">

                <input hidden id="numIdCabEvalPar" value="@ViewBag.IdCabEvaluacion">

                <div class="widget-buttons">
                    @*<a href="#" data-toggle="maximize">
                <i class="fa fa-expand"></i>
            </a>
            <a href="#" data-toggle="collapse">
                <i class="fa fa-minus"></i>
            </a>
            <a href="#" data-toggle="dispose">
                <i class="fa fa-times"></i>
            </a>*@
                </div>
            </div>
            <div class="widget-body">

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            Objetivo
                        </div>
                    </div>

                    <div class="col-sm-10">
                        <div class="form-group">
                            <span class="input-icon icon-right">
                                <input id="dgNomObjetivo" type="text" class="form-control" autocomplete="Off" name="dgNomObjetivo" value="" placeholder="Nombre del Objetivo"
                                       data-bv-notempty="true"
                                       data-bv-notempty-message="El campo es Obligatorio" />
                                <i class="glyphicon glyphicon-comment"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            Descripción
                        </div>
                    </div>

                    <div class="col-sm-10">
                        <div class="form-group">
                            <span class="input-icon icon-right">

                                <textarea name="dgdesObjetivo" id="dgdesObjetivo" class="form-control" rows="3" placeholder="Descripción del Objetivo"></textarea>

                                <i class="glyphicon glyphicon-comment"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            Meta Esperada
                        </div>
                    </div>

                    <div class="col-sm-10">
                        <div class="form-group">
                            <span class="input-icon icon-right">

                                <textarea name="dgMetaEsperada" id="dgMetaEsperada" class="form-control" rows="3" placeholder="Descripción de Meta Esperada"></textarea>

                                <i class="glyphicon glyphicon-comment"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            Meta Excepcional
                        </div>
                    </div>

                    <div class="col-sm-10">
                        <div class="form-group">
                            <span class="input-icon icon-right">

                                <textarea name="dgMetaExcepcional" id="dgMetaExcepcional" class="form-control" rows="3" placeholder="Descripción de Meta Excepcional"></textarea>

                                <i class="glyphicon glyphicon-comment"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-2">
                        <div class="form-group">
                            Ponderación
                        </div>
                    </div>

                    <div class="col-sm-10">
                        <div class="form-group">
                            <span class="input-icon icon-right">
                                <input id="numPonderacion" type="number" class="form-control" autocomplete="Off" name="numPonderacion" value="" placeholder="Ponderación del Objetivo"
                                       data-bv-notempty="true"
                                       data-bv-notempty-message="El campo es Obligatorio" />
                                <i class="glyphicon glyphicon-stats"></i>
                            </span>
                        </div>
                    </div>
                </div>


                <div class="row">
                    <span class="widget-caption">
                        <hr />
                    </span>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <table align="center">
                                <tr>
                                    <td align="center">

                                        @*@if (User.IsInRole("pedd_objetivo_create")) 
                                        {
                                        *@
                                        <button id="btnAgregaObjetivo" class="btn btn-primary"  onclick="GrabarObjetivosBD(numIdCabEvalPar,numIdEvaluado,numIdEvaluador,dgNomObjetivo,dgdesObjetivo,dgdesObjetivo,dgMetaEsperada,dgMetaExcepcional,numPonderacion,btnAgregaObjetivo,btnNuevoObjetivo)" >
                                        <i class="fa fa-floppy-o"></i>Grabar</button>
                                        @*
                                         }
                                        else
                                        {
                                        <button disabled id="btnAgregaObjetivo" class="btn btn-primary"><i class="fa fa-floppy-o"></i>Grabar</button>
                                        } 
                                        *@

                                        @*@if (User.IsInRole("pedd_objetivo_create")) 
                                        {
                                        *@
                                        <button disabled id="btnNuevoObjetivo" class="btn btn-primary" onclick="LimpiarDetObjetivos(dgNomObjetivo,dgdesObjetivo,dgdesObjetivo,dgMetaEsperada,dgMetaExcepcional,numPonderacion,btnAgregaObjetivo,btnNuevoObjetivo)"><i class="fa fa-file-o"></i>Nuevo</button>
                                        @*
                                         }
                                        else
                                        {
                                        <button disabled id="btnNuevoObjetivo" class="btn btn-primary"><i class="fa fa-file-o"></i>Nuevo</button>
                                        } 
                                        *@


                                        <button id="btnVolver" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-undo"></i>Volver</button>

                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

@{
    var relativeUrl = HttpContext.Current.Request.Url.Segments;
    var url = string.Empty;

    foreach (var item in relativeUrl)
    {
        if (!item.Equals("Create"))
        {
            url += item;
        }
        else
        {
            break;
        }
    }
}
@section PageScripts{
    <script src="~/assets/js/validation/bootstrapValidator.js"></script>
    <script src="~/assets/js/select2/select2.js"></script>
    <script src="~/assets/js/bootbox/bootbox.js"></script>
    <script src="~/assets/js/datatable/jquery.dataTables.min.js"></script>
    <!--Bootstrap Date Picker-->
    <script src="~/assets/js/datatable/dataTables.bootstrap.min.js"></script>
    <script src="~/assets/js/datetime/bootstrap-datepicker.js"></script>

    <script type="text/javascript" class="init">

        //--Bootstrap Date Picker--
        $('.date-picker').datepicker();

    </script>
}
